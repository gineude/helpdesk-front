<mat-card class="card mat-elevation-z0">
	<mat-card-header class="alinhar-texto-center">
		<mat-card-title>Help Desk - Cadastro de Chamados</mat-card-title>
	</mat-card-header>

	<mat-card-content>
		<div class="container mat-elevation-z8">
			<img
				class="fullWidth"
				src="assets/img/chamado-create.svg"
				alt="Criando cliente"
			/>
			<form class="form">
				<mat-form-field class="fullWidth" appearance="outline">
					<mat-label>Título do chamado</mat-label>
					<input
						[(ngModel)]="chamado.titulo"
						[formControl]="titulo"
						name="titulo"
						required
						matInput
						maxlength="50"
						placeholder="Ex.. Trocar bateria do notebook"
					/>
				</mat-form-field>

				<div class="status-prioridade">
					<mat-form-field appearance="outline">
						<mat-label>Selecione um status</mat-label>
						<mat-select
							[(ngModel)]="chamado.status"
							[formControl]="status"
							name="status"
							required
						>
							<mat-option value="0">ABERTO</mat-option>
							<mat-option value="1">EM ANDAMENTO</mat-option>
							<mat-option value="2">ENCERRADO</mat-option>
						</mat-select>
					</mat-form-field>

					<mat-form-field appearance="outline">
						<mat-label>Selecione uma prioridade</mat-label>
						<mat-select
							[(ngModel)]="chamado.prioridade"
							[formControl]="prioridade"
							name="prioridade"
							required
						>
							<mat-option value="0">BAIXA</mat-option>
							<mat-option value="1">MÉDIA</mat-option>
							<mat-option value="2">ALTA</mat-option>
						</mat-select>
					</mat-form-field>
				</div>

				<div class="tecnico">
					<mat-form-field class="fullWidth" appearance="outline">
						<mat-label>Selecione uma técnico</mat-label>
						<mat-select
							[(ngModel)]="chamado.tecnico"
							[formControl]="tecnico"
							name="tecnico"
							required
						>
							<mat-option
								*ngFor="let tecnico of tecnicos; index as i"
								[value]="tecnico.id"
							>
								{{ tecnico.nome }}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</div>

				<div class="cliente">
					<mat-form-field class="fullWidth" appearance="outline">
						<mat-label>Selecione uma cliente</mat-label>
						<mat-select
							[(ngModel)]="chamado.cliente"
							[formControl]="cliente"
							name="cliente"
							required
						>
							<mat-option
								*ngFor="let cliente of clientes; index as i"
								[value]="cliente.id"
							>
								{{ cliente.nome }}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</div>

				<mat-form-field class="fullWidth" appearance="outline">
					<mat-label>Deixe uma descrição</mat-label>
					<textarea
						[(ngModel)]="chamado.observacoes"
						[formControl]="descricao"
						name="observacoes"
						class="descricao"
						matInput
						placeholder="Ex.. Bateria do notebook queimada..."
					></textarea>
				</mat-form-field>

				<div class="fullWidth" align="end">
					<button
						class="button-cancelar mat-elevation-z2"
						mat-raised-button
						color="warn"
						routerLink="../"
					>
						cancelar
					</button>
					<button
						(click)="create()"
						[disabled]="!validaCampos()"
						class="mat-elevation-z4"
						mat-raised-button
						color="primary"
					>
						Cadastrar
					</button>
				</div>
			</form>
		</div>
	</mat-card-content>
</mat-card>
